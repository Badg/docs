<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Hot Swapping | Docs</title><meta name=description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta property="og:title" content="Hot Swapping"><meta property="og:description" content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta property="og:type" content="article"><meta property="og:url" content="/tools/lambda-tools/hot-swapping/"><meta property="article:section" content="tools"><meta property="article:published_time" content="2021-09-27T00:00:00+00:00"><meta property="article:modified_time" content="2022-05-30T15:38:53+02:00"><meta property="og:site_name" content="Docs"><meta itemprop=name content="Hot Swapping"><meta itemprop=description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta itemprop=datePublished content="2021-09-27T00:00:00+00:00"><meta itemprop=dateModified content="2022-05-30T15:38:53+02:00"><meta itemprop=wordCount content="1376"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Hot Swapping"><meta name=twitter:description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><link rel=preload href=/scss/main.min.366c2088808b6f12dd81ebaef6d25f434519e275c58f5c5f6648058f09c8bcae.css as=style><link href=/scss/main.min.366c2088808b6f12dd81ebaef6d25f434519e275c58f5c5f6648058f09c8bcae.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-101988473-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand flex-column flex-md-row td-navbar"><div class=navbar-brand><a class=brand-link href=/><span class=navbar-logo><img src=/images/logo.svg height=40px></span>
<span class=navbar-suffix>| docs</span></a></div><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.dc01d34e0d6242961f538312c0b2bcd1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></li><li class=nav-item><a class=nav-link target=_blank href=https://twitter.com/_localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="#fff"/></svg></a></li><li class=nav-item><a class=nav-link target=_blank href=https://github.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4984.75C5.59688.75.0 6.4882.0 13.5668c0 5.6616 3.58125 10.4647 8.55 12.161C9.175 25.8459 9.40312 25.4501 9.40312 25.1102 9.40312 24.8054 9.39219 23.9996 9.38594 22.9305 5.90938 23.7044 5.175 21.2119 5.175 21.2119c-.56719-1.4808-1.3875-1.875-1.3875-1.875C2.65156 18.5423 3.87187 18.5582 3.87187 18.5582 5.12656 18.6492 5.78594 19.8795 5.78594 19.8795c1.11562 1.9579 2.92656 1.393 3.63906 1.0643C9.5375 20.1156 9.86094 19.5507 10.2188 19.23 7.44375 18.9061 4.525 17.8066 4.525 12.8966c0-1.3994.4875-2.5436 1.2875-3.44036C5.68281 9.13231 5.25469 7.8286 5.93438 6.06534c0 0 1.05-.34468 3.43749 1.31327C10.3688 7.09457 11.4375 6.95256 12.5016 6.94777 13.5625 6.95415 14.6328 7.09457 15.6312 7.38021c2.386-1.65795 3.4344-1.31328 3.4344-1.31328.6813 1.76487.2531 3.06697.125 3.3909C19.9922 10.3546 20.475 11.4988 20.475 12.8982c0 4.9228-2.9219 6.0063-5.7063 6.3238C15.2172 19.6178 15.6172 20.3997 15.6172 21.5949 15.6172 23.3087 15.6016 24.6906 15.6016 25.1102 15.6016 25.4533 15.8266 25.8522 16.4609 25.7262 21.4219 24.0283 25 19.2268 25 13.5668 25 6.4882 19.4031.75 12.4984.75z" fill="#fff"/></svg></a></li><li class=nav-item><a class=btn-signup type=link href=https://app.localstack.cloud><i class="fa fa-user"></i> Sign up</a></li></ul></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.dc01d34e0d6242961f538312c0b2bcd1.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-overview-li><input type=checkbox id=m-overview-check>
<label for=m-overview-check><a href=/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-overview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-get-started-li><input type=checkbox id=m-get-started-check>
<label for=m-get-started-check><a href=/get-started/ title="Get Started" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-get-started><span>🚀 Get Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-get-startedpro-li><input type=checkbox id=m-get-startedpro-check>
<label for=m-get-startedpro-check><a href=/get-started/pro/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-get-startedpro><span>LocalStack Pro and Enterprise</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-get-startedcockpit-li><input type=checkbox id=m-get-startedcockpit-check>
<label for=m-get-startedcockpit-check><a href=/get-started/cockpit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-get-startedcockpit><span>LocalStack Cockpit</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-integrations-li><input type=checkbox id=m-integrations-check>
<label for=m-integrations-check><a href=/integrations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-integrations><span>Integrations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-cli-li><input type=checkbox id=m-integrationsaws-cli-check>
<label for=m-integrationsaws-cli-check><a href=/integrations/aws-cli/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-cli><span>AWS Command Line Interface</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsserverless-framework-li><input type=checkbox id=m-integrationsserverless-framework-check>
<label for=m-integrationsserverless-framework-check><a href=/integrations/serverless-framework/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsserverless-framework><span>Serverless Framework</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsspring-cloud-function-li><input type=checkbox id=m-integrationsspring-cloud-function-check>
<label for=m-integrationsspring-cloud-function-check><a href=/integrations/spring-cloud-function/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsspring-cloud-function><span>Spring Cloud Function</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsarchitect-li><input type=checkbox id=m-integrationsarchitect-check>
<label for=m-integrationsarchitect-check><a href=/integrations/architect/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsarchitect><span>Architect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationscopilot-li><input type=checkbox id=m-integrationscopilot-check>
<label for=m-integrationscopilot-check><a href=/integrations/copilot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationscopilot><span>AWS Copilot CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsterraform-li><input type=checkbox id=m-integrationsterraform-check>
<label for=m-integrationsterraform-check><a href=/integrations/terraform/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsterraform><span>Terraform</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsthundra-li><input type=checkbox id=m-integrationsthundra-check>
<label for=m-integrationsthundra-check><a href=/integrations/thundra/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsthundra><span>Thundra</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-sam-li><input type=checkbox id=m-integrationsaws-sam-check>
<label for=m-integrationsaws-sam-check><a href=/integrations/aws-sam/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-sam><span>AWS SAM</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-cdk-li><input type=checkbox id=m-integrationsaws-cdk-check>
<label for=m-integrationsaws-cdk-check><a href=/integrations/aws-cdk/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-cdk><span>AWS CDK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationspulumi-li><input type=checkbox id=m-integrationspulumi-check>
<label for=m-integrationspulumi-check><a href=/integrations/pulumi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationspulumi><span>Pulumi</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationskafka-li><input type=checkbox id=m-integrationskafka-check>
<label for=m-integrationskafka-check><a href=/integrations/kafka/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationskafka><span>Self-managed Kafka cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationschalice-li><input type=checkbox id=m-integrationschalice-check>
<label for=m-integrationschalice-check><a href=/integrations/chalice/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationschalice><span>AWS Chalice</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-integrationssdks-li><input type=checkbox id=m-integrationssdks-check>
<label for=m-integrationssdks-check><a href=/integrations/sdks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-integrationssdks><span>Language SDKs</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdksdotnet-li><input type=checkbox id=m-integrationssdksdotnet-check>
<label for=m-integrationssdksdotnet-check><a href=/integrations/sdks/dotnet/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdksdotnet><span>.NET</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdksgo-li><input type=checkbox id=m-integrationssdksgo-check>
<label for=m-integrationssdksgo-check><a href=/integrations/sdks/go/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdksgo><span>Go</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdksphp-li><input type=checkbox id=m-integrationssdksphp-check>
<label for=m-integrationssdksphp-check><a href=/integrations/sdks/php/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdksphp><span>PHP</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdkspython-li><input type=checkbox id=m-integrationssdkspython-check>
<label for=m-integrationssdkspython-check><a href=/integrations/sdks/python/ title="Python Boto3" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdkspython><span>Python: Boto3</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-ci-li><input type=checkbox id=m-ci-check>
<label for=m-ci-check><a href=/ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-ci><span>LocalStack in CI</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-cicircle-ci-li><input type=checkbox id=m-cicircle-ci-check>
<label for=m-cicircle-ci-check><a href=/ci/circle-ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-cicircle-ci><span>CircleCI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-cidrone-ci-li><input type=checkbox id=m-cidrone-ci-check>
<label for=m-cidrone-ci-check><a href=/ci/drone-ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-cidrone-ci><span>Drone CI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-cigithub-actions-li><input type=checkbox id=m-cigithub-actions-check>
<label for=m-cigithub-actions-check><a href=/ci/github-actions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-cigithub-actions><span>GitHub Actions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-citravis-ci-li><input type=checkbox id=m-citravis-ci-check>
<label for=m-citravis-ci-check><a href=/ci/travis-ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-citravis-ci><span>Travis CI</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-aws-li><input type=checkbox id=m-aws-check>
<label for=m-aws-check><a href=/aws/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-aws><span>Local AWS Services</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsfeature-coverage-li><input type=checkbox id=m-awsfeature-coverage-check>
<label for=m-awsfeature-coverage-check><a href=/aws/feature-coverage/ title="AWS Service Feature Coverage" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsfeature-coverage><span>⭐ Feature Coverage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsamplify-li><input type=checkbox id=m-awsamplify-check>
<label for=m-awsamplify-check><a href=/aws/amplify/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsamplify><span>Amplify</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsapigatewayv2-li><input type=checkbox id=m-awsapigatewayv2-check>
<label for=m-awsapigatewayv2-check><a href=/aws/apigatewayv2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsapigatewayv2><span>API Gateway V2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsappsync-li><input type=checkbox id=m-awsappsync-check>
<label for=m-awsappsync-check><a href=/aws/appsync/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsappsync><span>AppSync</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsathena-li><input type=checkbox id=m-awsathena-check>
<label for=m-awsathena-check><a href=/aws/athena/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsathena><span>Athena</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsbackup-li><input type=checkbox id=m-awsbackup-check>
<label for=m-awsbackup-check><a href=/aws/backup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsbackup><span>Backup</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscloudformation-li><input type=checkbox id=m-awscloudformation-check>
<label for=m-awscloudformation-check><a href=/aws/cloudformation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscloudformation><span>CloudFormation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscloudfront-li><input type=checkbox id=m-awscloudfront-check>
<label for=m-awscloudfront-check><a href=/aws/cloudfront/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscloudfront><span>CloudFront</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscloudwatch-li><input type=checkbox id=m-awscloudwatch-check>
<label for=m-awscloudwatch-check><a href=/aws/cloudwatch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscloudwatch><span>CloudWatch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscodecommit-li><input type=checkbox id=m-awscodecommit-check>
<label for=m-awscodecommit-check><a href=/aws/codecommit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscodecommit><span>CodeCommit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscognito-li><input type=checkbox id=m-awscognito-check>
<label for=m-awscognito-check><a href=/aws/cognito/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscognito><span>Cognito</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-compute-cloud-li><input type=checkbox id=m-awselastic-compute-cloud-check>
<label for=m-awselastic-compute-cloud-check><a href=/aws/elastic-compute-cloud/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-compute-cloud><span>Elastic Compute Cloud (EC2)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-container-registry-li><input type=checkbox id=m-awselastic-container-registry-check>
<label for=m-awselastic-container-registry-check><a href=/aws/elastic-container-registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-container-registry><span>Elastic Container Registry (ECR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-container-service-li><input type=checkbox id=m-awselastic-container-service-check>
<label for=m-awselastic-container-service-check><a href=/aws/elastic-container-service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-container-service><span>Elastic Container Service (ECS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-kubernetes-service-li><input type=checkbox id=m-awselastic-kubernetes-service-check>
<label for=m-awselastic-kubernetes-service-check><a href=/aws/elastic-kubernetes-service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-kubernetes-service><span>Elastic Kubernetes Service (EKS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-load-balancing-li><input type=checkbox id=m-awselastic-load-balancing-check>
<label for=m-awselastic-load-balancing-check><a href=/aws/elastic-load-balancing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-load-balancing><span>Elastic Load Balancing</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-mapreduce-li><input type=checkbox id=m-awselastic-mapreduce-check>
<label for=m-awselastic-mapreduce-check><a href=/aws/elastic-mapreduce/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-mapreduce><span>Elastic MapReduce (EMR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselasticache-li><input type=checkbox id=m-awselasticache-check>
<label for=m-awselasticache-check><a href=/aws/elasticache/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselasticache><span>ElastiCache</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselasticsearch-li><input type=checkbox id=m-awselasticsearch-check>
<label for=m-awselasticsearch-check><a href=/aws/elasticsearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselasticsearch><span>Elasticsearch Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsglue-li><input type=checkbox id=m-awsglue-check>
<label for=m-awsglue-check><a href=/aws/glue/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsglue><span>Glue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsiam-li><input type=checkbox id=m-awsiam-check>
<label for=m-awsiam-check><a href=/aws/iam/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsiam><span>Identity and Access Management (IAM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsiot-li><input type=checkbox id=m-awsiot-check>
<label for=m-awsiot-check><a href=/aws/iot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsiot><span>IoT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awskinesis-li><input type=checkbox id=m-awskinesis-check>
<label for=m-awskinesis-check><a href=/aws/kinesis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awskinesis><span>Kinesis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awskinesis-analytics-li><input type=checkbox id=m-awskinesis-analytics-check>
<label for=m-awskinesis-analytics-check><a href=/aws/kinesis-analytics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awskinesis-analytics><span>Kinesis Data Analytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awskinesis-firehose-li><input type=checkbox id=m-awskinesis-firehose-check>
<label for=m-awskinesis-firehose-check><a href=/aws/kinesis-firehose/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awskinesis-firehose><span>Kinesis Data Firehose</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awslambda-li><input type=checkbox id=m-awslambda-check>
<label for=m-awslambda-check><a href=/aws/lambda/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awslambda><span>Lambda</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsmanaged-streaming-for-kafka-li><input type=checkbox id=m-awsmanaged-streaming-for-kafka-check>
<label for=m-awsmanaged-streaming-for-kafka-check><a href=/aws/managed-streaming-for-kafka/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsmanaged-streaming-for-kafka><span>Managed Streaming for Kafka (MSK)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsneptune-li><input type=checkbox id=m-awsneptune-check>
<label for=m-awsneptune-check><a href=/aws/neptune/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsneptune><span>Neptune</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsopensearch-li><input type=checkbox id=m-awsopensearch-check>
<label for=m-awsopensearch-check><a href=/aws/opensearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsopensearch><span>OpenSearch Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsqldb-li><input type=checkbox id=m-awsqldb-check>
<label for=m-awsqldb-check><a href=/aws/qldb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsqldb><span>Quantum Ledger Database (QLDB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsrds-li><input type=checkbox id=m-awsrds-check>
<label for=m-awsrds-check><a href=/aws/rds/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsrds><span>Relational Database Service (RDS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsroute53-li><input type=checkbox id=m-awsroute53-check>
<label for=m-awsroute53-check><a href=/aws/route53/ title="Route 53" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsroute53><span>Route53</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awss3-li><input type=checkbox id=m-awss3-check>
<label for=m-awss3-check><a href=/aws/s3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awss3><span>S3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awssagemaker-li><input type=checkbox id=m-awssagemaker-check>
<label for=m-awssagemaker-check><a href=/aws/sagemaker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awssagemaker><span>SageMaker</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsses-li><input type=checkbox id=m-awsses-check>
<label for=m-awsses-check><a href=/aws/ses/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsses><span>Simple Email Service (SES)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awssqs-li><input type=checkbox id=m-awssqs-check>
<label for=m-awssqs-check><a href=/aws/sqs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awssqs><span>Simple Queue Service (SQS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awssystems-manager-li><input type=checkbox id=m-awssystems-manager-check>
<label for=m-awssystems-manager-check><a href=/aws/systems-manager/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awssystems-manager><span>Systems Manager (SSM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awstimestream-li><input type=checkbox id=m-awstimestream-check>
<label for=m-awstimestream-check><a href=/aws/timestream/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awstimestream><span>Timestream</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awstransfer-li><input type=checkbox id=m-awstransfer-check>
<label for=m-awstransfer-check><a href=/aws/transfer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awstransfer><span>Transfer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsxray-tracing-li><input type=checkbox id=m-awsxray-tracing-check>
<label for=m-awsxray-tracing-check><a href=/aws/xray-tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsxray-tracing><span>XRay Tracing</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-tools-li><input type=checkbox id=m-tools-check checked>
<label for=m-tools-check><a href=/tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-tools><span>LocalStack Tools</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolsanalytics-dashboard-li><input type=checkbox id=m-toolsanalytics-dashboard-check>
<label for=m-toolsanalytics-dashboard-check><a href=/tools/analytics-dashboard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolsanalytics-dashboard><span>Analytics Dashboard</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolstesting-tools-li><input type=checkbox id=m-toolstesting-tools-check>
<label for=m-toolstesting-tools-check><a href=/tools/testing-tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolstesting-tools><span>LocalStack Testing Tools</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolsmulti-account-setups-li><input type=checkbox id=m-toolsmulti-account-setups-check>
<label for=m-toolsmulti-account-setups-check><a href=/tools/multi-account-setups/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolsmulti-account-setups><span>Multi-Account Setups</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-toolscloud-pods-li><input type=checkbox id=m-toolscloud-pods-check>
<label for=m-toolscloud-pods-check><a href=/tools/cloud-pods/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-toolscloud-pods><span>Cloud Pods</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolscloud-podspods-cli-li><input type=checkbox id=m-toolscloud-podspods-cli-check>
<label for=m-toolscloud-podspods-cli-check><a href=/tools/cloud-pods/pods-cli/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolscloud-podspods-cli><span>Cloud Pods CLI</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-toolslambda-tools-li><input type=checkbox id=m-toolslambda-tools-check checked>
<label for=m-toolslambda-tools-check><a href=/tools/lambda-tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-toolslambda-tools><span>Lambda Tools</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-toolslambda-toolshot-swapping-li><input type=checkbox id=m-toolslambda-toolshot-swapping-check checked>
<label for=m-toolslambda-toolshot-swapping-check><a href=/tools/lambda-tools/hot-swapping/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-toolslambda-toolshot-swapping><span class=td-sidebar-nav-active-item>Hot Swapping</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslambda-toolsdebugging-li><input type=checkbox id=m-toolslambda-toolsdebugging-check>
<label for=m-toolslambda-toolsdebugging-check><a href=/tools/lambda-tools/debugging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslambda-toolsdebugging><span>Remote Debugging</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-toolslocal-endpoint-injection-li><input type=checkbox id=m-toolslocal-endpoint-injection-check>
<label for=m-toolslocal-endpoint-injection-check><a href=/tools/local-endpoint-injection/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-toolslocal-endpoint-injection><span>Local Endpoint Injection</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslocal-endpoint-injectiondns-server-li><input type=checkbox id=m-toolslocal-endpoint-injectiondns-server-check>
<label for=m-toolslocal-endpoint-injectiondns-server-check><a href=/tools/local-endpoint-injection/dns-server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslocal-endpoint-injectiondns-server><span>DNS Server</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslocal-endpoint-injectionpatched-sdks-li><input type=checkbox id=m-toolslocal-endpoint-injectionpatched-sdks-check>
<label for=m-toolslocal-endpoint-injectionpatched-sdks-check><a href=/tools/local-endpoint-injection/patched-sdks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslocal-endpoint-injectionpatched-sdks><span>Patched AWS SDKs for Lambdas</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-localstack-li><input type=checkbox id=m-localstack-check>
<label for=m-localstack-check><a href=/localstack/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-localstack><span>Understanding LocalStack</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackconfiguration-li><input type=checkbox id=m-localstackconfiguration-check>
<label for=m-localstackconfiguration-check><a href=/localstack/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackconfiguration><span>Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackexternal-ports-li><input type=checkbox id=m-localstackexternal-ports-check>
<label for=m-localstackexternal-ports-check><a href=/localstack/external-ports/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackexternal-ports><span>External Service Port Range</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackfilesystem-li><input type=checkbox id=m-localstackfilesystem-check>
<label for=m-localstackfilesystem-check><a href=/localstack/filesystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackfilesystem><span>Filesystem Layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstacklambda-executors-li><input type=checkbox id=m-localstacklambda-executors-check>
<label for=m-localstacklambda-executors-check><a href=/localstack/lambda-executors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstacklambda-executors><span>Lambda Executor Modes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackpersistence-mechanism-li><input type=checkbox id=m-localstackpersistence-mechanism-check>
<label for=m-localstackpersistence-mechanism-check><a href=/localstack/persistence-mechanism/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackpersistence-mechanism><span>Persistence Mechanism</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackarm64-support-li><input type=checkbox id=m-localstackarm64-support-check>
<label for=m-localstackarm64-support-check><a href=/localstack/arm64-support/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackarm64-support><span>ARM64 Support</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackpodman-li><input type=checkbox id=m-localstackpodman-check>
<label for=m-localstackpodman-check><a href=/localstack/podman/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackpodman><span>Podman</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstacklimitations-li><input type=checkbox id=m-localstacklimitations-check>
<label for=m-localstacklimitations-check><a href=/localstack/limitations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstacklimitations><span>LocalStack Limitations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackcoverage-li><input type=checkbox id=m-localstackcoverage-check>
<label for=m-localstackcoverage-check><a href=/localstack/coverage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackcoverage><span>LocalStack Coverage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-developer-guide-li><input type=checkbox id=m-developer-guide-check>
<label for=m-developer-guide-check><a href=/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-developer-guide><span>Developer Guide</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guidebasics-li><input type=checkbox id=m-developer-guidebasics-check>
<label for=m-developer-guidebasics-check><a href=/developer-guide/basics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guidebasics><span>Basics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guidesetup-li><input type=checkbox id=m-developer-guidesetup-check>
<label for=m-developer-guidesetup-check><a href=/developer-guide/setup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guidesetup><span>Setup and requirements</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guideintegration-tests-li><input type=checkbox id=m-developer-guideintegration-tests-check>
<label for=m-developer-guideintegration-tests-check><a href=/developer-guide/integration-tests/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guideintegration-tests><span>Integration tests</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guidelocalstack-extensions-li><input type=checkbox id=m-developer-guidelocalstack-extensions-check>
<label for=m-developer-guidelocalstack-extensions-check><a href=/developer-guide/localstack-extensions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guidelocalstack-extensions><span>LocalStack Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guideterraform-tests-li><input type=checkbox id=m-developer-guideterraform-tests-check>
<label for=m-developer-guideterraform-tests-check><a href=/developer-guide/terraform-tests/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guideterraform-tests><span>Terraform test suite</span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/localstack/docs/edit/main/content/en/tools/lambda-tools/hot-swapping/index.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/localstack/docs/new/main/content/en/tools/lambda-tools/hot-swapping/index.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/localstack/docs/issues/new?title=Hot%20Swapping" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/localstack/localstack/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><h5 class=toc-title>Table of Contents</h5><div class=td-toc><nav id=TableOfContents><ul><li><a href=#covered-topics>Covered Topics</a></li><li><a href=#application-configuration-examples>Application Configuration Examples</a><ul><li><a href=#code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</a></li><li><a href=#code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</a></li></ul></li><li><a href=#deployment-configuration-examples>Deployment Configuration Examples</a><ul><li><a href=#serverless-framework-configuration>Serverless Framework Configuration</a></li><li><a href=#aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</a></li><li><a href=#terraform-configuration>Terraform Configuration</a></li></ul></li><li><a href=#useful-links>Useful Links</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/account-id/ data-taxonomy-term=account-id><span class=taxonomy-label>account-id</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/apple/ data-taxonomy-term=apple><span class=taxonomy-label>apple</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/architect/ data-taxonomy-term=architect><span class=taxonomy-label>architect</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/cdk/ data-taxonomy-term=cdk><span class=taxonomy-label>cdk</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/chalice/ data-taxonomy-term=chalice><span class=taxonomy-label>chalice</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/ci/ data-taxonomy-term=ci><span class=taxonomy-label>ci</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/cloudformation/ data-taxonomy-term=cloudformation><span class=taxonomy-label>cloudformation</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/continuous-delivery/ data-taxonomy-term=continuous-delivery><span class=taxonomy-label>continuous-delivery</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/tags/continuous-integration/ data-taxonomy-term=continuous-integration><span class=taxonomy-label>continuous-integration</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>docker</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/infrastructure-as-code/ data-taxonomy-term=infrastructure-as-code><span class=taxonomy-label>infrastructure-as-code</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=/tags/jvm/ data-taxonomy-term=jvm><span class=taxonomy-label>jvm</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>kafka</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/kotlin/ data-taxonomy-term=kotlin><span class=taxonomy-label>kotlin</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/m1/ data-taxonomy-term=m1><span class=taxonomy-label>m1</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/multi-account/ data-taxonomy-term=multi-account><span class=taxonomy-label>multi-account</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/multi-tenant/ data-taxonomy-term=multi-tenant><span class=taxonomy-label>multi-tenant</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/namespaces/ data-taxonomy-term=namespaces><span class=taxonomy-label>namespaces</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>observability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/podman/ data-taxonomy-term=podman><span class=taxonomy-label>podman</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/pulumi/ data-taxonomy-term=pulumi><span class=taxonomy-label>pulumi</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/raspberry-pi/ data-taxonomy-term=raspberry-pi><span class=taxonomy-label>raspberry pi</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/sam/ data-taxonomy-term=sam><span class=taxonomy-label>sam</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/sdk/ data-taxonomy-term=sdk><span class=taxonomy-label>sdk</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/self-managed/ data-taxonomy-term=self-managed><span class=taxonomy-label>self-managed</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/serverless-framework/ data-taxonomy-term=serverless-framework><span class=taxonomy-label>serverless-framework</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/silicon/ data-taxonomy-term=silicon><span class=taxonomy-label>silicon</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring/ data-taxonomy-term=spring><span class=taxonomy-label>spring</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring-cloud/ data-taxonomy-term=spring-cloud><span class=taxonomy-label>spring-cloud</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring-cloud-function/ data-taxonomy-term=spring-cloud-function><span class=taxonomy-label>spring-cloud-function</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>terraform</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/testing/ data-taxonomy-term=testing><span class=taxonomy-label>testing</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/thundra/ data-taxonomy-term=thundra><span class=taxonomy-label>thundra</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/tracing/ data-taxonomy-term=tracing><span class=taxonomy-label>tracing</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/cli/ data-taxonomy-term=cli><span class=taxonomy-label>CLI</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/categories/localstack-cockpit/ data-taxonomy-term=localstack-cockpit><span class=taxonomy-label>LocalStack Cockpit</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/localstack-community/ data-taxonomy-term=localstack-community><span class=taxonomy-label>LocalStack Community</span><span class=taxonomy-count>12</span></a></li><li><a class=taxonomy-term href=/categories/localstack-pro/ data-taxonomy-term=localstack-pro><span class=taxonomy-label>LocalStack Pro</span><span class=taxonomy-count>41</span></a></li><li><a class=taxonomy-term href=/categories/localstack-pro-enterprise/ data-taxonomy-term=localstack-pro-enterprise><span class=taxonomy-label>LocalStack Pro & Enterprise</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/persistence/ data-taxonomy-term=persistence><span class=taxonomy-label>Persistence</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/categories/stub/ data-taxonomy-term=stub><span class=taxonomy-label>Stub</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/categories/tools/ data-taxonomy-term=tools><span class=taxonomy-label>Tools</span><span class=taxonomy-count>4</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/tools/>LocalStack Tools</a></li><li class=breadcrumb-item><a href=/tools/lambda-tools/>Lambda Tools</a></li><li class="breadcrumb-item active" aria-current=page><a href=/tools/lambda-tools/hot-swapping/>Hot Swapping</a></li></ol></nav><div class=td-content><h1>Hot Swapping</h1><div class=lead>Hot code swapping for Lambda functions using LocalStack&rsquo;s code mounting</div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/localstack-community/ data-taxonomy-term=localstack-community><span class=taxonomy-label>LocalStack Community</span></a></li><li><a class=taxonomy-term href=/categories/localstack-pro/ data-taxonomy-term=localstack-pro><span class=taxonomy-label>LocalStack Pro</span></a></li></ul></div></header><table><thead><tr><th>Complexity</th><th>★☆☆☆☆</th></tr></thead><tbody><tr><td>Time to read</td><td>5 minutes</td></tr><tr><td>Edition</td><td>community/pro</td></tr><tr><td>Platform</td><td>any</td></tr></tbody></table><p>Quickly iterating over Lambda function code can be quite cumbersome, as you need to deploy your function on every change.
With LocalStack you can avoid this hurdle by mounting your code directly from the source folder.
This way, any saved change inside your source file directly affects the already deployed Lambda function &ndash; without any redeployment!</p><h2 id=covered-topics>Covered Topics</h2><p><a href=#application-configuration-examples>Application Configuration Examples</a>:</p><ul><li><a href=#code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</a></li><li><a href=#code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</a></li><li>Debugging Nodejs lambdas (under development)</li></ul><p><a href=#deployment-configuration-examples>Deployment Configuration Examples</a>:</p><ul><li><a href=#serverless-framework-configuration>Serverless Framework Configuration</a></li><li><a href=#aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</a></li><li><a href=#terraform-configuration>Terraform Configuration</a></li></ul><p><a href=#useful-links>Useful Links</a></p><h2 id=application-configuration-examples>Application Configuration Examples</h2><h3 id=code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</h3><p>Since lambda containers lifetime is usually limited, regular hot code swapping
techniques are not applicable here.</p><p>In our implementation, we will be watching for fs changes under the project folder,
then build a <code>FatJar</code>, unzip it, and mount it into the Lambda Docker Container.</p><p>We assume you already have:</p><ul><li><a href=https://facebook.github.io/watchman/>watchman</a></li><li>configured JVM project capable of building FatJars using your preferred build tool</li></ul><p>First, create a watchman wrapper by using
<a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice/bin/watchman.sh>one of our examples</a></p><p>Don&rsquo;t forget to adjust permissions:<div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>chmod +x bin/watchman.sh</code></pre></div></p><p>Now configure your build tool to unzip the FatJar to some folder, which will be
then mounted to LocalStack. We are using <code>Gradle</code> build tool to unpack the
<code>FatJar</code> into the <code>build/hot</code> folder:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=color:#8f5902;font-style:italic>// We assume you are using something like `Shadow` plugin that comes with `shadowJar` task
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>task</span> <span style=color:#000>buildHot</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#f57900>type:</span> <span style=color:#000>Copy</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>from</span> <span style=color:#000>zipTree</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;${project.buildDir}/libs/${project.name}-all.jar&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
    <span style=color:#000>into</span> <span style=color:#4e9a06>&#34;${project.buildDir}/hot&#34;</span>
<span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#000>buildHot</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>dependsOn</span> <span style=color:#000>shadowJar</span>
</code></pre></div><p>Now run the following command to start watching your project in a hot-swapping mode:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>bin/watchman.sh src &#34;./gradlew buildHot&#34;</code></pre></div><p>Please note that you still need to configure your deployment tool to use
local code mounting. Read the &ldquo;<a href=#deployment-configuration-examples>Deployment Configuration Examples</a>&rdquo;
for more information.</p><h3 id=code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</h3><p>We will show you how you can do this with a simple example function, taken directly from the
<a href=https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/python/example_code/lambda/lambda_handler_basic.py>AWS Lambda developer guide</a>.</p><p>You can check out that code, or use your own lambda functions to follow along. To use the example just do:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>cd /tmp
<span class=command-prefix>$ </span>git clone git@github.com:awsdocs/aws-doc-sdk-examples.git</code></pre></div><h4 id=starting-up-localstack>Starting up LocalStack</h4><p>First, we need to make sure we start LocalStack with the right configuration.
This is as simple as setting <code>LAMBDA_REMOTE_DOCKER</code>(see the <a href=/localstack/configuration/#lambda>Configuration Documentation</a> for more information):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>LAMBDA_REMOTE_DOCKER=0 localstack start</code></pre></div><p>Accordingly, if you are launching LocalStack via Docker or Docker Compose:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#8f5902;font-style:italic>#docker-compose.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>LAMBDA_REMOTE_DOCKER=false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h4 id=creating-the-lambda-function>Creating the Lambda Function</h4><p>To create the Lambda function, you just need to take care of two things:</p><ol><li>Deploy via an S3 Bucket. You need to use the magic variable <code>__local__</code> as the bucket.</li><li>Set the S3 key to the path of the directory your lambda function resides in.
The handler is then referenced by the filename of your lambda code and the function in that code that needs to be invoked.</li></ol><p>So, using the AWS example, this would be:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>awslocal lambda create-function --function-name my-cool-local-function \
    --code S3Bucket=&#34;__local__&#34;,S3Key=&#34;/tmp/aws-doc-sdk-examples/python/example_code/lambda/boto_client_examples&#34; \
    --handler lambda_handler_basic.lambda_handler \
    --runtime python3.8 \
    --role cool-stacklifter</code></pre></div><p>You can also check out some of our &ldquo;<a href=#deployment-configuration-examples>Deployment Configuration Examples</a>&rdquo;.</p><p>We can also quickly make sure that it works by invoking it with a simple payload:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>awslocal lambda invoke --function-name my-cool-local-function --payload &#39;{&#34;action&#34;: &#34;square&#34;, &#34;number&#34;: 3}&#39; output.txt</code></pre></div><p>The invocation returns itself returns:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;StatusCode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;LogResult&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ExecutedVersion&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;$LATEST&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>and <code>output.txt</code> contains:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;result&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><h4 id=changing-things-up>Changing things up</h4><p>Now, that we got everything up and running, the fun begins.
Because the function is now mounted as a file in the executing container, any change that we save on the file will be there in an instant.</p><p>For example, we can now make a minor change to the API and replace the response in <a href=https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/python/example_code/lambda/lambda_handler_basic.py#L41>line 41</a> with the following:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>    <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;math_result&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Without redeploying or updating the function, the result of the previous request will look like this:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;math_result&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Cool!</p><h4 id=usage-with-virtualenv>Usage with Virtualenv</h4><p>For <a href=https://virtualenv.pypa.io>virtualenv</a>-driven projects, all dependencies should be made
available to the Python interpreter at runtime. There are different ways to achieve that, including:</p><ul><li>expanding the Python module search path in your Lambda handler</li><li>creating a watchman script to copy the libraries</li></ul><h5 id=expanding-the-module-search-path-in-your-lambda-handler>Expanding the module search path in your Lambda handler</h5><p>The easiest approach is to expand the module search path (<code>sys.path</code>) and add the <code>site-packages</code> folder inside the virtualenv.
We can add the following two lines of code at the top of the Lambda handler script:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>sys</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>glob</span>
<span style=color:#000>sys</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>path</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>insert</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>glob</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>glob</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;.venv/lib/python*/site-packages&#34;</span><span style=color:#000;font-weight:700>)[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>])</span>
<span style=color:#ce5c00;font-weight:700>...</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>some_lib_from_virtualenv</span>  <span style=color:#8f5902;font-style:italic># import your own modules here</span>
</code></pre></div><p>This way you can easily import modules from your virtualenv, without having to change the file system layout.</p><p>Note: As an alternative to modifying <code>sys.path</code>, you could also set the <code>PYTHONPATH</code> environment variable when creating your Lambda function, to add the additional path.</p><h5 id=using-a-watchman-script-to-copy-libraries>Using a watchman script to copy libraries</h5><p>Another alternative is to implement a watchman script that will be preparing a special folder for hot code swapping.</p><p>In our example, we are using <code>build/hot</code> folder as a mounting point for our Lambdas.</p><p>First, create a watchman wrapper by using
<a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice/bin/watchman.sh>one of our examples</a></p><p>After that, you can use the following <code>Makefile</code> snippet, or implement another shell script to prepare the codebase for hot swapping:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=color:#000>BUILD_FOLDER</span> <span style=color:#ce5c00;font-weight:700>?=</span> build
<span style=color:#000>PROJECT_MODULE_NAME</span> <span style=color:#ce5c00;font-weight:700>=</span> my_project_module

<span style=color:#000>build-hot</span><span style=color:#ce5c00;font-weight:700>:</span>
	rm -rf <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> mkdir -p <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot
	cp -r <span style=color:#204a87;font-weight:700>$(</span>VENV_DIR<span style=color:#204a87;font-weight:700>)</span>/lib/python<span style=color:#204a87;font-weight:700>$(</span>shell python --version <span style=color:#000;font-weight:700>|</span> grep -oE <span style=color:#4e9a06>&#39;[0-9]\.[0-9]&#39;</span><span style=color:#204a87;font-weight:700>)</span>/site-packages/* <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot/
	cp -r <span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot/<span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span>
	cp *.toml <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot

<span style=color:#000>watch</span><span style=color:#ce5c00;font-weight:700>:</span>
	bin/watchman.sh <span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span> <span style=color:#4e9a06>&#34;make build-hot&#34;</span>

<span style=color:#000>.PHONY</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>build</span>-<span style=color:#000>hot</span> <span style=color:#000>watch</span>
</code></pre></div><p>To run the example above, run <code>make watch</code>. The script is copying the project module <code>PROJECT_MODULE_NAME</code>
along with all dependencies into the <code>build/hot</code> folder, which is then mounted into
LocalStack&rsquo;s Lambda container.</p><h2 id=deployment-configuration-examples>Deployment Configuration Examples</h2><h3 id=serverless-framework-configuration>Serverless Framework Configuration</h3><p>Enable local code mounting</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>custom</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic># or if you need to enable code mounting only for specific stages</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>custom</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>stages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>testing</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>stages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>local</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>testing</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>${self:custom.stages.${opt:stage}.mountCode}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>Pass <code>LAMBDA_MOUNT_CWD</code> env var with path to the built code directory
(in our case to the folder with unzipped FatJar):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>LAMBDA_MOUNT_CWD=$(pwd)/build/hot serverless deploy --stage local</code></pre></div><h3 id=aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</h3><div class=highlight><div style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>org.localstack.cdkstack</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.UUID</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Construct</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Duration</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Stack</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.services.lambda.*</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.services.s3.Bucket</span>

<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>STAGE</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;STAGE&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?:</span> <span style=color:#4e9a06>&#34;local&#34;</span>
<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>LAMBDA_MOUNT_CWD</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;LAMBDA_MOUNT_CWD&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?:</span> <span style=color:#4e9a06>&#34;&#34;</span>
<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>const</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>JAR_PATH</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;build/libs/localstack-sampleproject-all.jar&#34;</span>

<span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ApplicationStack</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>Construct</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>String</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#000>Stack</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>

    <span style=color:#204a87;font-weight:700>init</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>lambdaCodeSource</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>buildCodeSource</span><span style=color:#000;font-weight:700>()</span>

        <span style=color:#000>SingletonFunction</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Builder</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ExampleFunctionOne&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>code</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lambdaCodeSource</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>handler</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.localstack.sampleproject.api.LambdaApi&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>environment</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mapOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;FUNCTION_NAME&#34;</span> <span style=color:#000>to</span> <span style=color:#4e9a06>&#34;functionOne&#34;</span><span style=color:#000;font-weight:700>))</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>timeout</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Duration</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>seconds</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>))</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>runtime</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Runtime</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JAVA_11</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>uuid</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>UUID</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>randomUUID</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>toString</span><span style=color:#000;font-weight:700>())</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic>     * Mount code for hot-reloading when STAGE=local
</span><span style=color:#8f5902;font-style:italic>     */</span>
    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>buildCodeSource</span><span style=color:#000;font-weight:700>():</span> <span style=color:#000>Code</span>  <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>bucket</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Bucket</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromBucketName</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;HotReloadingBucket&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;__local__&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Code</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromBucket</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>bucket</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>LAMBDA_MOUNT_CWD</span><span style=color:#000;font-weight:700>)</span>
        <span style=color:#000;font-weight:700>}</span>

        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Code</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromAsset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>JAR_PATH</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span></code></pre></td></tr></table></div></div><p>Then to bootstrap and deploy the stack run the following shell script</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>STAGE=local &amp;&amp; LAMBDA_MOUNT_CWD=$(pwd)/build/hot &amp;&amp;
  cdklocal bootstrap aws://000000000000/$(AWS_REGION) &amp;&amp; \
  cdklocal deploy</code></pre></div><h3 id=terraform-configuration>Terraform Configuration</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;STAGE&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;local&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;AWS_REGION&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;us-east-1&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;JAR_PATH&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;build/libs/localstack-sampleproject-all.jar&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;LAMBDA_MOUNT_CWD&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
}

<span style=color:#204a87;font-weight:700>provider</span> <span style=color:#4e9a06>&#34;aws&#34;</span> {
<span style=color:#000>    access_key</span>                  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;test_access_key&#34;</span>
<span style=color:#000>    secret_key</span>                  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;test_secret_key&#34;</span>
<span style=color:#000>    region</span>                      <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>AWS_REGION</span>
<span style=color:#000>    s3_force_path_style</span>         <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_credentials_validation</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_metadata_api_check</span>     <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_requesting_account_id</span>  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>

    <span style=color:#204a87;font-weight:700>endpoints</span> {
<span style=color:#000>        apigateway</span>       <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudformation</span>   <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudwatch</span>       <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudwatchevents</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        iam</span>              <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        lambda</span>           <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        s3</span>               <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
    }
}

<span style=color:#204a87;font-weight:700>resource</span> <span style=color:#4e9a06>&#34;aws_iam_role&#34; &#34;lambda-execution-role&#34;</span> {
<span style=color:#000>    name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;lambda-execution-role&#34;</span>

<span style=color:#000>    assume_role_policy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#a40000>&lt;&lt;</span><span style=color:#204a87;font-weight:700>EOF</span>
{
  <span style=color:#4e9a06>&#34;Version&#34;: &#34;2012-10-17&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#34;Statement&#34;</span><span style=color:#a40000>:</span> <span style=color:#000;font-weight:700>[</span>
    {
      <span style=color:#4e9a06>&#34;Action&#34;: &#34;sts:AssumeRole&#34;</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Principal&#34;</span><span style=color:#a40000>:</span> {
        <span style=color:#4e9a06>&#34;Service&#34;: &#34;lambda.amazonaws.com&#34;</span>
      }<span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Effect&#34;: &#34;Allow&#34;</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Sid&#34;: &#34;&#34;</span>
    }
  <span style=color:#000;font-weight:700>]</span>
}
<span style=color:#204a87;font-weight:700>EOF</span>
}

<span style=color:#204a87;font-weight:700>resource</span> <span style=color:#4e9a06>&#34;aws_lambda_function&#34; &#34;exampleFunctionOne&#34;</span> {
<span style=color:#000>    s3_bucket</span>     <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;__local__&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>    s3_key</span>        <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span> <span style=color:#a40000>?</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>LAMBDA_MOUNT_CWD</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>    filename</span>      <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span> <span style=color:#a40000>?</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>JAR_PATH</span>
<span style=color:#000>    function_name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ExampleFunctionOne&#34;</span>
<span style=color:#000>    role</span>          <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>aws_iam_role</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#a40000>-</span><span style=color:#204a87;font-weight:700>execution</span><span style=color:#a40000>-</span><span style=color:#204a87;font-weight:700>role</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>arn</span>
<span style=color:#000>    handler</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;org.localstack.sampleproject.api.LambdaApi&#34;</span>
<span style=color:#000>    runtime</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;java11&#34;</span>
<span style=color:#000>    timeout</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>30</span>
<span style=color:#000>    source_code_hash</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>filebase64sha256</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>JAR_PATH</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#204a87;font-weight:700>environment</span> {
<span style=color:#000>        variables</span> <span style=color:#ce5c00;font-weight:700>=</span> {
<span style=color:#000>            FUNCTION_NAME</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;functionOne&#34;</span>
        }
    }
}
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>terraform init &amp;&amp; \
  terraform apply -var &#34;STAGE=local&#34; -var &#34;LAMBDA_MOUNT_CWD=$(pwd)/build/hot&#34;</code></pre></div><h2 id=useful-links>Useful Links</h2><ul><li><a href=https://github.com/localstack/localstack-pro-samples/tree/master/lambda-mounting-and-debugging>Lambda Code Mounting and Debugging (Python)</a></li><li><a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice>Spring Cloud Function on LocalStack (Kotlin JVM)</a></li></ul><div class="text-muted mt-5 pt-3 border-top">Last modified May 30, 2022: <a href=https://github.com/localstack/docs/commit/c7e96d31b7377a5215939e43c82fc274ff8c496c>add docs for expanding module search path for virtualenv Lambda hot swapping (#173) (c7e96d31)</a></div></div></main></div></div><footer class="footer-localstack d-print-none"><div class=container-fluid><div class=row><div class=col><div class=mb-3><a href=https://localstack.cloud><img class=footer-logo src=/images/logo.svg></a></div></div><div class=col><div class="text-right link-lists"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/_localstack aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discussion aria-label=Discussion><a target=_blank rel=noopener href=https://discuss.localstack.cloud/ aria-label=Discussion><i class="fa fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/localstack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/localstack/ aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Issue tracker" aria-label="Issue tracker"><a target=_blank rel=noopener href=https://github.com/localstack/localstack/issues aria-label="Issue tracker"><i class="fa fa-bug"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://localstack-community.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div></div></div><div class=row><div class=col><hr><div class=row><div class=col><small>Copyright &copy; 2022 LocalStack All Rights Reserved</small></div><div class="col text-right"><small class=ml-1><a href=https://localstack.cloud/privacy-policy/ target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>